<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!--pjax：防止跳转页面音乐暂停-->
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script> 
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://npm.elemecdn.com/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://npm.elemecdn.com/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"acorcc.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
<meta property="og:type" content="website">
<meta property="og:title" content="ACorCC的个人网站">
<meta property="og:url" content="https://acorcc.github.io/archives/index.html">
<meta property="og:site_name" content="ACorCC的个人网站">
<meta property="og:description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ACorCC">
<meta property="article:tag" content="blog">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://acorcc.github.io/archives/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"archives/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ACorCC的个人网站</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ACorCC的个人网站</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">

      <!-- require APlayer -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
      <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
      <!-- require MetingJS-->
      <script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script> 
      <!--qq音乐-->
      <meting-js
        auto="https://y.qq.com/n/yqq/playlist/8756623989.html#stat=y_new.playlist.pic_click">
      </meting-js>


      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ACorCC</p>
  <div class="site-description" itemprop="description">这是ACorCC的个人网站，包含网络日志、心情记录等等</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    

  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/18/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%BA%94%EF%BC%9A%E5%9C%BA%E6%99%AF%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/18/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%BA%94%EF%BC%9A%E5%9C%BA%E6%99%AF%E5%8C%96/" class="post-title-link" itemprop="url">Webpack入门系列五：场景化</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-02-18 00:18:59 / 修改时间：12:39:18" itemprop="dateCreated datePublished" datetime="2023-02-18T00:18:59+08:00">2023-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">工程化</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/Webpack/" itemprop="url" rel="index"><span itemprop="name">Webpack</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="vue-cli脚手架特性"><a href="#vue-cli脚手架特性" class="headerlink" title="vue-cli脚手架特性"></a>vue-cli脚手架特性</h1><h1 id="create-react-app脚手架特性"><a href="#create-react-app脚手架特性" class="headerlink" title="create-react-app脚手架特性"></a>create-react-app脚手架特性</h1><h1 id="优化编译性能"><a href="#优化编译性能" class="headerlink" title="优化编译性能"></a>优化编译性能</h1><h1 id="优化产物性能"><a href="#优化产物性能" class="headerlink" title="优化产物性能"></a>优化产物性能</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/18/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E5%9B%9B%EF%BC%9A%E7%90%86%E8%A7%A3%E6%8F%92%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/18/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E5%9B%9B%EF%BC%9A%E7%90%86%E8%A7%A3%E6%8F%92%E4%BB%B6/" class="post-title-link" itemprop="url">Webpack入门系列四：理解插件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-02-18 00:03:00 / 修改时间：12:39:04" itemprop="dateCreated datePublished" datetime="2023-02-18T00:03:00+08:00">2023-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">工程化</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/Webpack/" itemprop="url" rel="index"><span itemprop="name">Webpack</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Why-插件"><a href="#Why-插件" class="headerlink" title="Why 插件"></a>Why 插件</h1><p>很多知名工具，如：</p>
<ul>
<li>VS Code、Web Storm、Chrome、Firefox</li>
<li>Babel、Webpack、Rollup、Eslint</li>
<li>Vue、Redux、Quill、Axios</li>
</ul>
<p>等等，都设计了所谓”插件“架构，为什么？</p>
<p>对于一个庞大的开源项目，需要多人参与开发，若所有功能都集成在项目里，那么：</p>
<ul>
<li>新人需要了解整个流程细节，上手成本高</li>
<li>功能迭代成本高，牵一发动全身</li>
<li>功能僵化，作为开源项目而言缺乏成长性</li>
<li>…</li>
</ul>
<p>这会降低一个开源项目的生命力</p>
<p>而使用插件的设计，能让开发者在自己的仓库里修改代码，而不用修改主项目的代码。</p>
<p>插件架构的精髓：对扩展开房，对修改封闭。</p>
<h1 id="插件开发"><a href="#插件开发" class="headerlink" title="插件开发"></a>插件开发</h1><p>插件开发围绕钩子展开，需要对Webpack复杂的内部过程有细致了解。</p>
<h1 id="常用Plugin"><a href="#常用Plugin" class="headerlink" title="常用Plugin"></a>常用Plugin</h1><ul>
<li>html-webpack-plugin</li>
<li>clean-webpack-plugin</li>
<li>define-plugin</li>
<li>webpack-bundle-analyzer</li>
<li>mini-css-extract-plugin</li>
<li>imagemin-webpack-plugin</li>
<li>web-pack-dashboard</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/17/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%B8%89%EF%BC%9A%E7%90%86%E8%A7%A3Loader/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/17/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%B8%89%EF%BC%9A%E7%90%86%E8%A7%A3Loader/" class="post-title-link" itemprop="url">Webpack入门系列三：理解Loader</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-17 22:18:55" itemprop="dateCreated datePublished" datetime="2023-02-17T22:18:55+08:00">2023-02-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-18 12:39:01" itemprop="dateModified" datetime="2023-02-18T12:39:01+08:00">2023-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">工程化</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/Webpack/" itemprop="url" rel="index"><span itemprop="name">Webpack</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Why-Loader"><a href="#Why-Loader" class="headerlink" title="Why Loader"></a>Why Loader</h1><p>Webpack只认识JS，为了处理非标准JS资源，设计出资源翻译模块——Loader，用于将资源翻译为标准JS。</p>
<h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><ol>
<li>npm安装Loader模块</li>
<li>在配置文件中添加具体<code>module</code>规则</li>
</ol>
<h1 id="Loader特性"><a href="#Loader特性" class="headerlink" title="Loader特性"></a>Loader特性</h1><ul>
<li><p>链式调用</p>
</li>
<li><p>支持异步执行</p>
</li>
<li><p>分normal、pitch两种模式</p>
</li>
</ul>
<h1 id="常用Loader"><a href="#常用Loader" class="headerlink" title="常用Loader"></a>常用Loader</h1><p>掌握这些常用Loader的功能、配置方法</p>
<ul>
<li>JavaScript<ul>
<li><strong>babel-loader</strong></li>
<li><strong>eslint-loader</strong></li>
<li>ts-loader</li>
<li>buble-loader</li>
<li><strong>vue-loader</strong></li>
<li>angular2-template-loader</li>
</ul>
</li>
<li>CSS<ul>
<li><strong>css-loader</strong></li>
<li><strong>style-laoder</strong></li>
<li><strong>less-loader</strong></li>
<li><strong>sass-loader</strong></li>
<li><strong>stylus-loader</strong></li>
<li><strong>postcss-loader</strong></li>
</ul>
</li>
<li>HTML<ul>
<li>html-loader</li>
<li>pug-loader</li>
<li>posthtml-loader</li>
</ul>
</li>
<li>Assets<ul>
<li><strong>file-loader</strong></li>
<li>val-loader</li>
<li><strong>url-loader</strong></li>
<li>json5-loader</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/17/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%BA%8C%EF%BC%9A%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/17/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%BA%8C%EF%BC%9A%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Webpack入门系列二：常见配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-17 21:20:29" itemprop="dateCreated datePublished" datetime="2023-02-17T21:20:29+08:00">2023-02-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-18 12:38:56" itemprop="dateModified" datetime="2023-02-18T12:38:56+08:00">2023-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">工程化</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/Webpack/" itemprop="url" rel="index"><span itemprop="name">Webpack</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="流程类配置"><a href="#流程类配置" class="headerlink" title="流程类配置"></a>流程类配置</h1><h2 id="entry、output"><a href="#entry、output" class="headerlink" title="entry、output"></a>entry、output</h2><p>文件结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- src</span><br><span class="line">	|-- index.js</span><br><span class="line">|-- webpack.config.js</span><br></pre></td></tr></table></figure>

<p><strong>entry</strong>入口文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">    entry: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>output</strong>产物出口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="处理CSS"><a href="#处理CSS" class="headerlink" title="处理CSS"></a>处理CSS</h2><p>文件结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- src</span><br><span class="line">	|-- index.js</span><br><span class="line">	|-- index.css</span><br><span class="line">|-- webpack.config.js</span><br></pre></td></tr></table></figure>

<p><code>index.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> styles = <span class="built_in">require</span>(<span class="string">&#x27;./index.css&#x27;</span>)</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&#x27;./index.css&#x27;</span></span><br></pre></td></tr></table></figure>

<p>js本身只支持导入js文件，不支持其它格式的资源。因此需要使用相关Loader来处理。</p>
<ol>
<li><p>安装Loader</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm add iD css-loader style-loader</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加<code>module</code>处理css文件，test为匹配规则，use为链式调用的Loader（从后往前调用）</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="comment">// css处理器</span></span><br><span class="line">        <span class="attr">rules</span>:[&#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.css/i</span>,</span><br><span class="line">            <span class="attr">use</span>: [</span><br><span class="line">                <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h2><p><code>index.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;Tecvan&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="keyword">new</span> <span class="title class_">Person</span>()).<span class="property">name</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">say</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>Babel可以将es6语法转化为兼容低版本浏览器的js代码</p>
<ol>
<li><p>安装依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D @babel.core @babel/preset-env babel-loader</span><br></pre></td></tr></table></figure>
</li>
<li><p>声明产物出口<code>output</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>:[&#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.js?$/</span>,</span><br><span class="line">            <span class="attr">use</span>: [&#123;</span><br><span class="line">                <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">                <span class="attr">options</span>: &#123;</span><br><span class="line">                    <span class="attr">persets</span>: [</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">&#x27;@babel/preset-env&#x27;</span></span><br><span class="line">                        ]</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, ]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行<code>npx webpack</code></p>
</li>
</ol>
<h2 id="生成HTML"><a href="#生成HTML" class="headerlink" title="生成HTML"></a>生成HTML</h2><p>文件结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- src</span><br><span class="line">	|-- index.js</span><br><span class="line">|-- webpack.config.js</span><br></pre></td></tr></table></figure>

<ol>
<li><p>安装依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D html-webpack-plugin</span><br></pre></td></tr></table></figure>
</li>
<li><p>声明产物出口<code>output</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugin</span>: [<span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>()]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行<code>npx webpack</code></p>
</li>
</ol>
<p>文件结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- dist</span><br><span class="line">	|-- index.html</span><br><span class="line">	|-- main.js</span><br><span class="line">|-- src</span><br><span class="line">	|-- index.js</span><br><span class="line">|-- webpack.config.js</span><br></pre></td></tr></table></figure>

<h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><h2 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h2><h2 id="target"><a href="#target" class="headerlink" title="target"></a>target</h2><h2 id="module"><a href="#module" class="headerlink" title="module"></a>module</h2><h2 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h2><h1 id="工具类配置"><a href="#工具类配置" class="headerlink" title="工具类配置"></a>工具类配置</h1><h2 id="HMR"><a href="#HMR" class="headerlink" title="HMR"></a>HMR</h2><p>Hot Module Replacement，模块热替换</p>
<ol>
<li><p>开启HMR</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">hot</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动Webpack</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack serve</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree-Shaking"></a>Tree-Shaking</h2><p>用于删除Dead Code，如没有被用到、不可到达的代码，执行结果不会被用到的代码……</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/index&quot;</span>,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">    <span class="attr">devtool</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">usedExports</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="devtool"><a href="#devtool" class="headerlink" title="devtool"></a>devtool</h2><h2 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h2><h2 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/17/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%B8%80%EF%BC%9A%E8%AE%A4%E8%AF%86Webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/17/Webpack%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%B8%80%EF%BC%9A%E8%AE%A4%E8%AF%86Webpack/" class="post-title-link" itemprop="url">Webpack入门系列一：认识Webpack</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-17 20:47:37" itemprop="dateCreated datePublished" datetime="2023-02-17T20:47:37+08:00">2023-02-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-18 12:39:22" itemprop="dateModified" datetime="2023-02-18T12:39:22+08:00">2023-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">工程化</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E5%B7%A5%E7%A8%8B%E5%8C%96/Webpack/" itemprop="url" rel="index"><span itemprop="name">Webpack</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>一个前端项目由各种各样的资源构成，包括图片PNG、JPG、GIF等，代码资源JS、TS、CSS、LESS、VUE等等。</p>
<p>假设如下情景，一个网页依赖了50个JS文件，且彼此之间有依赖，需要严格按依赖顺序书写。同时由于浏览器只支持CSS与JS，难以直接接入TS、LESS等资源，或对JS新特性存在兼容性问题。这种情况对开发效率的影响非常大。</p>
<p>于是出现了诸如Webpack、Gulp、Vite等工程化工具，有效解决了上述问题，并有了”前端工程“的概念。</p>
<h1 id="Webpack介绍"><a href="#Webpack介绍" class="headerlink" title="Webpack介绍"></a>Webpack介绍</h1><p>Webpack本质上是一种前端资源<strong>编译</strong>、<strong>打包</strong>工具。包括：</p>
<ul>
<li><strong>模块化处理css、图片等资源文件</strong></li>
<li><strong>支持Babel、Eslint、TS、CoffeScript、Less、Sass</strong></li>
<li><strong>多份资源文件打包成一个Bundle</strong></li>
<li>支持HMR+开发服务器</li>
<li>支持持续监听、持续构建</li>
<li>支持代码分离</li>
<li>支持Tree-shaking</li>
<li>支持Sourcemap</li>
</ul>
<h1 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h1><ol>
<li><p>安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D webpack webpack-cli</span><br></pre></td></tr></table></figure>
</li>
<li><p>编辑配置文件 webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>:[&#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.less$/i</span>,</span><br><span class="line">            <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;less-loader&#x27;</span>]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行编译命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="核心流程"><a href="#核心流程" class="headerlink" title="核心流程"></a>核心流程</h1><ol>
<li><p>入口处理</p>
<p>从<code>entry</code>文件开始，启动编译流程。</p>
</li>
<li><p>依赖解析</p>
<p>根据<code>require</code>或<code>import</code>等语句找到依赖资源。</p>
</li>
<li><p>资源解析</p>
<p>根据<code>module</code>配置，调用资源转移器，将png、css等非标准JS资源转译为JS内容。</p>
<p>递归调用2、3，直到所有资源处理完毕。</p>
</li>
<li><p>资源合并打包</p>
<p>将转译后的资源内容合并打包为可直接在浏览器运行的JS文件。</p>
</li>
</ol>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>关于Webpack的使用，基本都围绕<strong>配置</strong>展开，这些配置大致可划分为两类：</p>
<ul>
<li><p>流程类：作用于流程中某个or若干个环节，直接影响打包效果的配置项</p>
<ul>
<li>输入：<code>entry</code>、<code>context</code></li>
<li>模块解析：<code>resolve</code>、<code>externals</code></li>
<li>模块转移：<code>module</code></li>
<li>后处理：<code>optimization</code>、<code>mode</code>、<code>target</code></li>
</ul>
</li>
<li><p>工具类：主流程之外，提供更多工程化能力的配置项</p>
<ul>
<li>开发效率类：<code>watch</code>、<code>devtool</code>、<code>devServer</code></li>
<li>性能优化类：<code>cache</code>、<code>performance</code></li>
<li>日志类：<code>stats</code>、<code>infrastructureLogging</code></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/07/TypeScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/07/TypeScript/" class="post-title-link" itemprop="url">TypeScript</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-07 15:47:02" itemprop="dateCreated datePublished" datetime="2023-02-07T15:47:02+08:00">2023-02-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-08 19:29:54" itemprop="dateModified" datetime="2023-02-08T19:29:54+08:00">2023-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/%E8%AF%AD%E8%A8%80/TypeScript/" itemprop="url" rel="index"><span itemprop="name">TypeScript</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>在变量名后加上一个冒号，冒号后加上类型的名称</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 字符串 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">q</span>: <span class="built_in">string</span> =<span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"><span class="comment">/* 数字 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">w</span>: <span class="built_in">number</span> = <span class="number">1</span>;</span><br><span class="line"><span class="comment">/* 布尔值 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">e</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">/* null */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">r</span>: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">/* undefined */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">t</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>

<h2 id="对象数据类型"><a href="#对象数据类型" class="headerlink" title="对象数据类型"></a>对象数据类型</h2><p>一般在开头加上一个大写的I来表示类型，用于和普通的对象或类区分</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">bytedancer</span>: <span class="title class_">IBytedancer</span> = &#123;</span><br><span class="line">    <span class="attr">jobId</span>: <span class="number">9303245</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;Lin&#x27;</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;man&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">28</span>,</span><br><span class="line">    <span class="attr">hobby</span>:<span class="string">&#x27; swimming&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IBytedancer</span> &#123;</span><br><span class="line">    <span class="comment">/* 只读属性: 约束属性不可在对象初始化外赋值 */</span></span><br><span class="line">    <span class="keyword">readonly</span> <span class="attr">jobId</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">	<span class="attr">sex</span>: <span class="string">&#x27;man&#x27;</span> | <span class="string">&#x27;woman&#x27;</span> | <span class="string">&#x27;other&#x27;</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">	<span class="comment">/* 可选属性: 定义该属性可以不存在 */</span></span><br><span class="line">    hobby?: <span class="built_in">string</span>;</span><br><span class="line">    <span class="comment">/* 任意属性: 约束所有对象属性都必须是该属性的子类型 */</span></span><br><span class="line">    [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 报错: 无法分配到 “jobId&quot;因为它是只读属性 */</span></span><br><span class="line">bytedancer.<span class="property">jobId</span> = <span class="number">12345</span>;</span><br><span class="line"><span class="comment">/* 成功: 任意属性标注下可以添加任意属性 */</span></span><br><span class="line">bytedancer.<span class="property">plateform</span> = <span class="string">&#x27;data&#x27;</span>;</span><br><span class="line"><span class="comment">/* 报错: 缺少属性“name&quot;，hobby可缺省 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">bytedancer2</span>: <span class="title class_">IBytedancer</span> = &#123;</span><br><span class="line">    <span class="attr">jobId</span>: <span class="number">89757</span></span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;woman&#x27;</span></span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x，y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mult</span> = (<span class="params">x，y</span>) =&gt; x * y;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 定义入参和出参的类型 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mult</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="function">(<span class="params">x，y</span>) =&gt;</span> x * y;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 也可以通过interface关键字进行定义 */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IMult</span> &#123;</span><br><span class="line">    (<span class="attr">x</span>: <span class="built_in">number</span>， <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mult</span>: <span class="title class_">IMult</span> = <span class="function">(<span class="params">x，y</span>) =&gt;</span> x * y;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数重载*/</span></span><br><span class="line"><span class="comment">/* 对getDate函数进行重载，timestamp为可缺省参数 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDate</span>(<span class="params"><span class="keyword">type</span>:<span class="string">&#x27;string&#x27;</span>,timestamp?: <span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IGetDate</span> &#123;</span><br><span class="line">    (<span class="attr">type</span>: <span class="string">&#x27;string&#x27;</span>,timestamp?: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">    (<span class="attr">type</span>: <span class="string">&#x27;date&#x27;</span>,timestamp?: <span class="built_in">string</span>): <span class="title class_">Date</span>;</span><br><span class="line">    (<span class="attr">type</span>: <span class="string">&#x27;string&#x27;</span> | <span class="string">&#x27;date&#x27;</span>, timestamp?: <span class="built_in">string</span>): <span class="title class_">Date</span> | <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 不能将类型“(type: any，timestamp: any) =&gt; string | Date”分配给类型“IGetDate&#x27;。</span></span><br><span class="line"><span class="comment">不能将类型“stringDate”分配给类型“string”。</span></span><br><span class="line"><span class="comment">不能将类型“Date”分配给类型“string”。ts(2322) */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">getDate2</span>: <span class="title class_">IGetDate</span> = <span class="function">(<span class="params"><span class="keyword">type</span>, timestamp</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">type</span> === <span class="string">&#x27;string&#x27;</span> ? date.<span class="title function_">toLocaleString</span>() : date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [类型 + 方括号] 表示 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr1</span> = <span class="built_in">number</span>[];</span><br><span class="line"><span class="comment">/* 泛型表示 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr2</span> = <span class="title class_">Array</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">number</span>&gt;&gt;;</span><br><span class="line"><span class="comment">/* 元祖表示 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr3</span> = [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">string</span>, <span class="built_in">string</span>];</span><br><span class="line"><span class="comment">/* 接口表示 */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IArr4</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>: <span class="built_in">number</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr1</span>: <span class="title class_">IArr1</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr2</span>: <span class="title class_">IArr2</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr3</span>: <span class="title class_">IArr3</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr4</span>: <span class="title class_">IArr4</span> = [<span class="string">&#x27;string&#x27;</span>, <span class="function">() =&gt;</span> <span class="literal">null</span>, &#123;&#125;, []];</span><br></pre></td></tr></table></figure>

<h2 id="补充类型"><a href="#补充类型" class="headerlink" title="补充类型"></a>补充类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 空类型，表示无赋值 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IEmptyFunction</span> = <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"><span class="comment">/* 任意类型，是所有类型的子类型 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IAnyType</span> = <span class="built_in">any</span>;</span><br><span class="line"><span class="comment">/* 枚举类型:支持枚举值到枚举名的正、反向映射 */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">EnumExample</span> (</span><br><span class="line">    add = <span class="string">&#x27;+&#x27;</span>,</span><br><span class="line">    mult = <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EnumExample</span>[<span class="string">&#x27;add&#x27;</span>] === <span class="string">&#x27;+&#x27;</span></span><br><span class="line"><span class="title class_">EnumExample</span>[<span class="string">&#x27;+&#x27;</span>] === <span class="string">&#x27;add&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">ECorlor</span> &#123; <span class="title class_">Mon</span>, <span class="title class_">Tue</span>, <span class="title class_">Wed</span>, <span class="title class_">Thu</span>, <span class="title class_">Fri</span>,<span class="title class_">Sat</span>, <span class="title class_">Sun</span> &#125;;</span><br><span class="line"><span class="title class_">ECorlor</span>[<span class="string">&#x27;Mon&#x27;</span>] === <span class="number">0</span>;</span><br><span class="line"><span class="title class_">ECorlor</span>[<span class="number">0</span>] === <span class="string">&#x27;Mon&#x27;</span>;</span><br><span class="line"><span class="comment">/* 泛型 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">INumArr</span> = <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getRepeatArr</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArr</span> = <span class="function">(<span class="params">target: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">any</span>[l;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不预先指定具体的类型，而在使用的时候再指定类型的一种特性 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArrR</span> = &lt;T&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 泛型接口 &amp; 多泛型 */</span></span><br><span class="line"><span class="keyword">interface</span> IX&lt;T，U&gt; &#123;</span><br><span class="line">    <span class="attr">key</span>: T;</span><br><span class="line">    <span class="attr">val</span>: U;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 泛型类 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IMan</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="attr">instance</span>: T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 泛型别名 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ITypeArr</span>&lt;T&gt; = <span class="title class_">Array</span>&lt;T&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 泛型约束: 限制泛型必须符合字符串 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatStringArr</span> = &lt;T <span class="keyword">extends</span> <span class="built_in">string</span>&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> <span class="title class_">Tl</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">getStrArr</span>: <span class="title class_">IGetRepeatStringArr</span> = <span class="function"><span class="params">target</span> =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="property">filltarget</span>);</span><br><span class="line"><span class="comment">/* 报错: 类型“number”的参数不能赋给类型“string”的参数 */</span></span><br><span class="line"><span class="title function_">getstrArr</span>(<span class="number">123</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 泛型参数默认类型 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArr</span>&lt;T = <span class="built_in">number</span>&gt; = <span class="function">(<span class="params">target: T</span>) =&gt;</span> T[];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">getRepeatArr</span>: <span class="title class_">IGetRepeatArr</span> = <span class="function"><span class="params">target</span> =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line"><span class="comment">/* 报错: 类型“string”的参数不能赋给类型“number”的参数 */</span></span><br><span class="line"><span class="title function_">getRepeatArr</span>(<span class="string">&#x27;123&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="类型别名-amp-类型断言"><a href="#类型别名-amp-类型断言" class="headerlink" title="类型别名 &amp; 类型断言"></a>类型别名 &amp; 类型断言</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 通过type关键字定义了IObjArr的别名类型 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IObjArr</span> = <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">    <span class="attr">key</span>: <span class="built_in">string</span>;</span><br><span class="line">    [<span class="attr">objKey</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;&gt;</span><br><span class="line"><span class="keyword">function</span> keyBy&lt;T <span class="keyword">extends</span> <span class="title class_">IObjArr</span>&gt;(<span class="attr">objArr</span>: <span class="title class_">Array</span>&lt;T&gt;) [</span><br><span class="line">    <span class="comment">/* 未指定类型时，result类型为 &#123;&#125; */</span></span><br><span class="line">    <span class="keyword">const</span> result = objArr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">res, val, key</span>) =&gt;</span> &#123;</span><br><span class="line">        res[key] = val;</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">    &#125;, &#123;&#125;);</span><br><span class="line">	<span class="comment">/* 通过as关键字，断言result类型为正确类型 */</span></span><br><span class="line">	<span class="keyword">return</span> result <span class="keyword">as</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>，T&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串-x2F-数字-字面量"><a href="#字符串-x2F-数字-字面量" class="headerlink" title="字符串&#x2F;数字 字面量"></a>字符串&#x2F;数字 字面量</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 允许指定字符串/数字必须的固定值 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* IDomTag必须为html、body、div、span中的其一 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IDomTag</span> =<span class="string">&#x27;html&#x27;</span> | <span class="string">&#x27;body&#x27;</span> | <span class="string">&#x27;div&#x27;</span> | <span class="string">&#x27;span&#x27;</span>;</span><br><span class="line"><span class="comment">/* IOddNumber必须为1、3、5、7、9中的其一 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IOddNumber</span> = <span class="number">13579</span>;</span><br></pre></td></tr></table></figure>

<h1 id="高级类型"><a href="#高级类型" class="headerlink" title="高级类型"></a>高级类型</h1><h2 id="联合-x2F-交叉类型"><a href="#联合-x2F-交叉类型" class="headerlink" title="联合&#x2F;交叉类型"></a>联合&#x2F;交叉类型</h2><p>为书籍列表编写类型</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bookList = [&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xiaoming&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    <span class="attr">range</span>: <span class="string">&#x27;2001-2021&#x27;</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xiaoli&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>,</span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;love&#x27;</span>,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>类型声明繁琐，存在较多重复</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IHistoryBook</span> &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">type</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">range</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IStoryBook</span> &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">type</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">theme</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IBookList</span> = <span class="title class_">Array</span>&lt;<span class="title class_">IHistoryBook</span> | <span class="title class_">IStoryBook</span>&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>联合类型: IA| IB；联合类型表示一个值可以是几种类型之一</li>
<li>交又类型: IA &amp; IB；多种类型叠加到一起成为一种类型，它包含了所需的所有类型的特性</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bookList = [&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xiaoming&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    <span class="attr">range</span>: <span class="string">&#x27;2001-2021&#x27;</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xiaoli&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>,</span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;love&#x27;</span>,</span><br><span class="line">&#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IBookList</span> = <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; (&#123;</span><br><span class="line">	<span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>;</span><br><span class="line">    <span class="attr">range</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; | &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>;</span><br><span class="line">    <span class="attr">theme</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;)&gt;</span><br></pre></td></tr></table></figure>

<h2 id="类型保护与类型守卫"><a href="#类型保护与类型守卫" class="headerlink" title="类型保护与类型守卫"></a>类型保护与类型守卫</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> lA &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">a1</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">interface</span> IB &#123; <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">b1</span>: <span class="number">2</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 类型守卫: 定义一个函数，它的返回值是一个类型谓词，生效范围为子作用域 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getlslA</span>(<span class="params">arg: IA | IB</span>): arg is <span class="variable constant_">IA</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> !!(arg <span class="keyword">as</span> <span class="variable constant_">IA</span>).<span class="property">a</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log2</span>(<span class="params">arg: IA | IB</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">getlslA</span>(arg)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">a1</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">b1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现函数reverse</span></span><br><span class="line"><span class="comment">// 实现函数logBook类型</span></span><br><span class="line"><span class="comment">// 函数接受书本类型，并logger出相关特征</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logBook</span>(<span class="params">book: IBookltem</span>) &#123;</span><br><span class="line">    <span class="comment">// 联合类型 + 类型保护 = 自动类型推断</span></span><br><span class="line">    <span class="keyword">if</span> (book.<span class="property">type</span> === <span class="string">&quot;history&#x27;) &#123;</span></span><br><span class="line"><span class="string">        console.log(book.range)</span></span><br><span class="line"><span class="string">	&#125; else &#123;</span></span><br><span class="line"><span class="string">        console.log(book.theme);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="高级类型-1"><a href="#高级类型-1" class="headerlink" title="高级类型"></a>高级类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现merge函数类型</span></span><br><span class="line"><span class="comment"> * 要求sourceObj必须为targetObj的子集</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge1</span>(<span class="params">sourceObj, targetObj</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> result = &#123; ...sourceObj &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> targetObj) &#123;</span><br><span class="line">        <span class="keyword">const</span> itemVal = sourceObj[key];</span><br><span class="line">        itemVal &amp;&amp; ( result[key] = itemVal );</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge2</span>(<span class="params">sourceObj, targetObj</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; ...sourceObj, ...targetObj &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ISourceObj</span> &#123;</span><br><span class="line">	x?: <span class="built_in">string</span>;</span><br><span class="line">    y?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITargetObj</span> &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">y</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IMerge</span> = <span class="function">(<span class="params">sourceObj: ISourceObj, targetObj: ITargetObj</span>) =&gt;</span><span class="title class_">ITargetObj</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类型实现繁琐: 若obi类型较为复杂，则声明source和target便需要大量重复2遍</span></span><br><span class="line"><span class="comment"> * 容易出错: 若target增加/减少key，则需要source联动去除</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IMerge</span>&#123;</span><br><span class="line">    &lt;T <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt; &gt;(<span class="attr">sourceObj</span>: <span class="title class_">Partial</span>&lt;T&gt;, <span class="attr">targetObj</span>: T): T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IPartial</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt; &gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 索引类型: 关键字【keyof】，其相当于取值对象中的所有kev组成的字符串字面量,如</span></span><br><span class="line"><span class="keyword">type</span> lKeys = keyof &#123; <span class="attr">a</span>: <span class="built_in">string</span>; <span class="attr">b</span>: <span class="built_in">number</span> l; <span class="comment">// =&gt; type IKeys = &quot;a&quot; | &quot;b&quot;</span></span><br><span class="line"><span class="comment">// 关键字【in】，其相当于取值 字符串字面量 中的一种可能，配合泛型P,即表示每个key</span></span><br><span class="line"><span class="comment">// 关键字【?】，通过设定对象可选选项，即可自动推导出子集类型</span></span><br></pre></td></tr></table></figure>

<h2 id="函数返回值类型"><a href="#函数返回值类型" class="headerlink" title="函数返回值类型"></a>函数返回值类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现函数delayCall的类型声明</span></span><br><span class="line"><span class="comment">// delayCall接受一个函数作为入参,其实现延迟1s运行函数</span></span><br><span class="line"><span class="comment">// 其返回promise，结果为入参函数的返回结果</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">delayCall</span>(<span class="params">func</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(resolve = &gt; &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="number">0</span> =&gt; &#123;</span><br><span class="line">        	<span class="keyword">const</span> result = <span class="title function_">func</span>();</span><br><span class="line">        	<span class="title function_">resolve</span>(result);</span><br><span class="line">		&#125;, <span class="number">1000</span>);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IDelayCall</span> = &lt;T <span class="keyword">extends</span> () =&gt; <span class="built_in">any</span>&gt;<span class="function">(<span class="params">func: T</span>) =&gt;</span> <span class="title class_">ReturnType</span>&lt;T&gt;;</span><br><span class="line"><span class="keyword">type</span> lReturnType&lt;T <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>&gt; = T <span class="keyword">extends</span> (..<span class="property">args</span>: <span class="built_in">any</span>) =&gt; infer R ? R : <span class="built_in">any</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 关键字【extends】跟随泛型出现时，表示类型推断，其表达可类比三元表达式</span></span><br><span class="line"><span class="comment">// 如 T === 判断类型 ? 类型A : 类型B</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 关键字【infer】出现在类型推荐中，表示定义类型变量，可以用于指代类型</span></span><br><span class="line"><span class="comment">// 如 该场景下，将函数的返回值类型作为变量，使用新泛型R表示，使用在类型推荐命中的结果中</span></span><br></pre></td></tr></table></figure>








      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/04/%E4%BF%AE%E6%94%B9node-modelus%E9%87%8C%E7%9A%84%E4%BB%A3%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/04/%E4%BF%AE%E6%94%B9node-modelus%E9%87%8C%E7%9A%84%E4%BB%A3%E7%A0%81/" class="post-title-link" itemprop="url">修改node_modelus里的代码</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-04 23:05:50" itemprop="dateCreated datePublished" datetime="2023-02-04T23:05:50+08:00">2023-02-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-07 19:20:43" itemprop="dateModified" datetime="2023-02-07T19:20:43+08:00">2023-02-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在开发中，如果有必要修改node_modules里的代码，有哪几种方法呢？哪种方法最好呢？</p>
<h1 id="第一种：直接改"><a href="#第一种：直接改" class="headerlink" title="第一种：直接改"></a>第一种：直接改</h1><p>这种很容易理解，就是直接进node_modules中，找到相关包的代码，并修改相应位置代码，然后重启项目即可。<br>但是这样做存在如下弊端：</p>
<ol>
<li>只能是你自己本地用你修改的代码，其他人用不了；</li>
<li>下次npm install 之后之前修改的代码都会恢复原状；</li>
</ol>
<h1 id="第二种：独立维护一个包"><a href="#第二种：独立维护一个包" class="headerlink" title="第二种：独立维护一个包"></a>第二种：独立维护一个包</h1><p>假如我使用了包A，它限制了上传文件的格式，但是我的业务要求是放开所有限制，此时我可以这样：在原有包的基础上copy一个包B，修改相关代码后把包B推送到npm上，此时项目中不需要原来的包了，用刚维护的包B就可以了，这样就可以达到效果。这样做的缺点就是会增加维护的成本。</p>
<h1 id="第三种-patch-package"><a href="#第三种-patch-package" class="headerlink" title="第三种: patch-package"></a>第三种: patch-package</h1><p>这是一个专门用来修改node_modules中包的代码的工具，使用方式也很简单：</p>
<ol>
<li>安装patch-package</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i patch-package</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>修改node_modules</li>
</ol>
<p>比如我想修改包A，那么我直接在node_modules中修改，然后执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx patch-package A</span><br></pre></td></tr></table></figure>

<p>这时候你的根目录下就会出现patches这个目录，里面会出现一个包A的补丁文件，这个文件大有用处！</p>
<p>注意：记得要把 patches 这个目录提交到git或者svn</p>
<p>这个时候你本地已经使用到了你修改后的代码了。那现在的问题是怎么让其他人也同步到你修改后的代码。</p>
<ol start="3">
<li>“postinstall”:“patch-package”</li>
</ol>
<p>在package.json的script中增加：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;postinstall&quot;: &quot;patch-package&quot;</span><br></pre></td></tr></table></figure>

<p>这个命令的作用就是：当执行npm install的时候，会自动执行npm run postinstall这个命令，也就是执行patch-package，这时候就会去读取上面说的 patches目录，并将那些补丁打到对应的包里，达到同步修改代码的效果！！</p>
<p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/leal_ch/article/details/126855790">https://blog.csdn.net/leal_ch/article/details/126855790</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/02/04/%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BDJavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/02/04/%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BDJavaScript/" class="post-title-link" itemprop="url">如何写好JavaScript</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-02-04 15:00:16 / 修改时间：21:42:07" itemprop="dateCreated datePublished" datetime="2023-02-04T15:00:16+08:00">2023-02-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="HTML-x2F-CSS-x2F-JS-各司其责"><a href="#HTML-x2F-CSS-x2F-JS-各司其责" class="headerlink" title="HTML&#x2F;CSS&#x2F;JS 各司其责"></a>HTML&#x2F;CSS&#x2F;JS 各司其责</h1><ul>
<li>避免不必要的由JS直接操作样式</li>
<li>可以用class来表示状态</li>
<li>纯展示类交互寻求零JS方案</li>
</ul>
<h1 id="组件封装"><a href="#组件封装" class="headerlink" title="组件封装"></a>组件封装</h1><p>组件设计的原则：封装线、正确性、扩展性、复用性</p>
<p>实现组件的步骤：结构设计、展现效果、行为设计</p>
<ul>
<li><p>解耦&#x2F;插件化</p>
<ul>
<li><p>将控制元素抽取成插件</p>
</li>
<li><p>插件与组件之间通过<strong>依赖注入</strong>方式建立联系</p>
</li>
</ul>
</li>
<li><p>模板化</p>
<ul>
<li>将HTML模板化，更易于扩展</li>
</ul>
</li>
<li><p>抽象化</p>
<ul>
<li>将组件通用模型抽象出来</li>
</ul>
</li>
</ul>
<h1 id="过程抽象"><a href="#过程抽象" class="headerlink" title="过程抽象"></a>过程抽象</h1><p>高阶函数HOF</p>
<ul>
<li>以函数作为参数</li>
<li>以函数作为返回值</li>
<li>常用于作为函数装饰器</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">HOF</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>常用高阶函数</p>
<ul>
<li>once</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">once</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(fn) &#123;</span><br><span class="line">            <span class="keyword">const</span> ret = fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">            fn = <span class="literal">null</span></span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>Throttle 节流</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, time = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(timer == <span class="literal">null</span>) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">            &#125;, time)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>Debounce 防抖</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, dur</span>) &#123;</span><br><span class="line">    dur = dur || <span class="number">100</span></span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">        &#125;, dur)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>Consumer&#x2F;2 使多个相同的同步过程变成异步</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">consumer</span>(<span class="params">fn, time</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> tasks = [], timer</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        tasks.<span class="title function_">push</span>(fn.<span class="title function_">bind</span>(<span class="variable language_">this</span>, ...args))</span><br><span class="line">        <span class="keyword">if</span>(timer == <span class="literal">null</span>) &#123;</span><br><span class="line">            timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                tasks.<span class="title function_">shift</span>().<span class="title function_">call</span>(<span class="variable language_">this</span>)</span><br><span class="line">                <span class="keyword">if</span>(tasks.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">                    timer = <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, time)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>Iterative 迭代调用fn函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">iterative</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">subject, ...rest</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_">isIterable</span>(subject)) &#123;</span><br><span class="line">            <span class="keyword">const</span> ret = []</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> obj <span class="keyword">of</span> subject) &#123;</span><br><span class="line">                ret.<span class="title function_">push</span>(fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, [obj, ...rest]))</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, [subject, ...rest])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/01/16/%E5%89%8D%E7%AB%AF%E4%B8%8EHTML/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/16/%E5%89%8D%E7%AB%AF%E4%B8%8EHTML/" class="post-title-link" itemprop="url">前端与HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-16 15:47:02" itemprop="dateCreated datePublished" datetime="2023-01-16T15:47:02+08:00">2023-01-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-04 21:45:05" itemprop="dateModified" datetime="2023-02-04T21:45:05+08:00">2023-02-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="前端简述"><a href="#前端简述" class="headerlink" title="前端简述"></a>前端简述</h1><h2 id="前端解决什么问题"><a href="#前端解决什么问题" class="headerlink" title="前端解决什么问题"></a>前端解决什么问题</h2><p>利用<strong>Web技术栈</strong>（HTML、CSS、JS、HTTP）解决<strong>多端</strong>（PC&#x2F;移动浏览器、客户端&#x2F;小程序、VR&#x2F;AR等）<strong>图形界面下人机交互</strong>的问题</p>
<h2 id="前端应该关注哪些方面"><a href="#前端应该关注哪些方面" class="headerlink" title="前端应该关注哪些方面"></a>前端应该关注哪些方面</h2><ul>
<li><strong>功能</strong>，解决什么问题，满足需求</li>
<li><strong>美观</strong>，界面是否好看</li>
<li><strong>无障碍</strong>，是否对于所有人都可以用（如色盲症）</li>
<li><strong>安全</strong>，保证用户数据安全，是否存在漏洞可能被利用</li>
<li><strong>性能</strong>，网站速度快，动画流畅，用户体验好</li>
<li><strong>兼容</strong>，网页是否能在各种各样的设备上使用，如电脑和手机</li>
<li><strong>体验</strong>，用户对产品的直观感受取决于前端</li>
</ul>
<h2 id="前端的边界"><a href="#前端的边界" class="headerlink" title="前端的边界"></a>前端的边界</h2><p>前端能做的东西远远超出于页面的范畴</p>
<ul>
<li>Node.js能开发服务端的应用</li>
<li>Electron、React Native能开发客户端的应用</li>
<li>Web RTC进行P2P的在线传输，实现多人会议</li>
<li>WebGL开发3D游戏</li>
<li>WebASSEMBLY可以把C++或Rust编写的代码编译成可以运行在浏览器的代码</li>
</ul>
<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="什么是HTML"><a href="#什么是HTML" class="headerlink" title="什么是HTML"></a>什么是HTML</h2><p>HTML，**超文本标记语言(HyperText Markup Language, HTML)**，超文本包括图片、标题、链接、表格等，标记语言即用标签来表示某个类型内容，例如用<code>&lt;h1&gt;一级标题&lt;/h1&gt;</code>来表示一级标题。</p>
<h2 id="常见标签"><a href="#常见标签" class="headerlink" title="常见标签"></a>常见标签</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>一级标题 <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>段落内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><code>&lt;!doctype html&gt;</code> 表示当前使用的html代码是哪一个版本，浏览器会据此决定使用哪一种浏览模式，如果不写，浏览器会以一种比较老旧的模式即怪异模式去渲染页面，造成页面展示效果和实际不太符合。</p>
<p><code>&lt;html&gt;&lt;/html&gt;</code> 文档的根标签，所有其它标签都写在这里面。</p>
<p><code>&lt;head&gt;&lt;/head&gt;</code> 里面放一些页面的原数据，即页面需要、但不需要直接呈现给用户的信息，如页面的标题 <code>&lt;title&gt;&lt;/title&gt;</code> 、编码格式 <code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code> 。</p>
<p><code>&lt;body&gt;&lt;/body&gt;</code> 里面放需要真正呈现给用户的信息。</p>
<h2 id="解析HTML"><a href="#解析HTML" class="headerlink" title="解析HTML"></a>解析HTML</h2><p>浏览器获取HTML代码后，会将其解析为<strong>DOM树</strong>，document为根节点，html为其直接子节点，html有head和body的直接子节点，以此类推。每个节点称为<strong>DOM节点</strong>。</p>
<h2 id="HTML语法"><a href="#HTML语法" class="headerlink" title="HTML语法"></a>HTML语法</h2><h3 id="规范"><a href="#规范" class="headerlink" title="规范"></a>规范</h3><ul>
<li>标签和属性不区分大小写，推荐<strong>小写</strong></li>
<li>空标签可以不闭合，比如input、meta</li>
<li>属性值推荐用<strong>双引号</strong>包裹</li>
<li>某些属性值可以省略，比如required、readonly</li>
</ul>
<h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><ul>
<li>h1~h6，共六级标题</li>
</ul>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><ul>
<li><p>有序列表，ol -li</p>
</li>
<li><p>无序列表，ul-li</p>
</li>
<li><p>dl-dt-dd，dt为key，dd为value，一个dt可对应多个dd</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>水果：<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>西瓜<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>动物：<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>兔子<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>牛<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><ul>
<li><code>&lt;a href=&quot;http://www.baidu.com&quot;&gt;&lt;/a&gt;</code></li>
</ul>
<h3 id="多媒体"><a href="#多媒体" class="headerlink" title="多媒体"></a>多媒体</h3><ul>
<li>img 图片</li>
<li>audio 视频</li>
<li>video 音频</li>
</ul>
<h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><ul>
<li>input 输入框、范围、日期选择框、复选框等</li>
<li>textarea 多行输入框</li>
</ul>
<h2 id="语义化"><a href="#语义化" class="headerlink" title="语义化"></a>语义化</h2><ul>
<li>HTML中的<strong>元素</strong>、<strong>属性</strong>及<strong>属性值</strong>都拥有某些含义</li>
<li>开发者应该遵循<strong>语义</strong>来编写HTML</li>
</ul>
<p>语义化的好处：</p>
<ul>
<li>代码可读性</li>
<li>可维护性</li>
<li>搜索引擎优化</li>
<li>提升无障碍性</li>
</ul>
<p>应注重传达内容而不是样式。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://acorcc.github.io/2023/01/16/%E6%B7%B1%E5%85%A5CSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ACorCC">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ACorCC的个人网站">
      <meta itemprop="description" content="这是ACorCC的个人网站，包含网络日志、心情记录等等">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ACorCC的个人网站">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/01/16/%E6%B7%B1%E5%85%A5CSS/" class="post-title-link" itemprop="url">深入CSS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-16 15:47:02" itemprop="dateCreated datePublished" datetime="2023-01-16T15:47:02+08:00">2023-01-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-04 21:45:13" itemprop="dateModified" datetime="2023-02-04T21:45:13+08:00">2023-02-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="CSS简介"><a href="#CSS简介" class="headerlink" title="CSS简介"></a>CSS简介</h1><h2 id="CSS是什么"><a href="#CSS是什么" class="headerlink" title="CSS是什么"></a>CSS是什么</h2><p><strong>层叠样式表（Cascading Style Sheets, CSS）</strong> 用来定义页面元素的样式。</p>
<h2 id="在页面中使用CSS的三种方式"><a href="#在页面中使用CSS的三种方式" class="headerlink" title="在页面中使用CSS的三种方式"></a>在页面中使用CSS的三种方式</h2><ol>
<li><p><strong>外链</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/assets/style.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>嵌入</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">li</span> &#123; <span class="attribute">margin</span>: <span class="number">0</span>; &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>内联</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;margin: 1em 0&quot;</span>&gt;</span>Example Content<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="选择器Selector"><a href="#选择器Selector" class="headerlink" title="选择器Selector"></a>选择器Selector</h2><h3 id="单个选择器"><a href="#单个选择器" class="headerlink" title="单个选择器"></a>单个选择器</h3><ul>
<li>通配选择器 *</li>
<li>标签选择器 h1</li>
<li>id选择器 #logo</li>
<li>类选择器 .done</li>
<li>属性选择器 [disabled], [type&#x3D;”password”], a[href^&#x3D;”#”],  a[href$&#x3D;”.jpg”]</li>
<li>伪类选择器<ul>
<li>状态性伪类，a:link, a:visited, a:hover, a:active, input:focus</li>
<li>结构伪类，li:first-child, li:last-child</li>
</ul>
</li>
</ul>
<h3 id="组合选择器"><a href="#组合选择器" class="headerlink" title="组合选择器"></a>组合选择器</h3><table>
<thead>
<tr>
<th>名称</th>
<th>语法</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>直接组合</td>
<td>AB</td>
<td>同时满足A和B</td>
<td>input:focus</td>
</tr>
<tr>
<td>后代组合</td>
<td>A B</td>
<td>选中B，如果它是A的子孙</td>
<td>nav a</td>
</tr>
<tr>
<td>亲子组合</td>
<td>A&gt;B</td>
<td>选中B，如果它是A的子元素</td>
<td>section&gt;p</td>
</tr>
<tr>
<td>兄弟选择器</td>
<td>A~B</td>
<td>选中B，如果它在A后且和A同级</td>
<td>h2~p</td>
</tr>
<tr>
<td>相邻选择器</td>
<td>A+B</td>
<td>选中B，如果它紧跟在A后面</td>
<td>h2+p</td>
</tr>
</tbody></table>
<h2 id="常见CSS属性"><a href="#常见CSS属性" class="headerlink" title="常见CSS属性"></a>常见CSS属性</h2><h3 id="color-颜色"><a href="#color-颜色" class="headerlink" title="color 颜色"></a>color 颜色</h3><p>三种表示形式：</p>
<ul>
<li>rgb(red, green, blue)，红绿蓝三个参数，简写#000000</li>
<li>hsl(hue, saturation, lightness)，色相、饱和度、亮度，hsl(18, 50%, 50%)</li>
<li>颜色名字如black、white</li>
</ul>
<p>可在最后加上透明度。</p>
<h3 id="font-family-字体"><a href="#font-family-字体" class="headerlink" title="font-family 字体"></a>font-family 字体</h3><p><code>font-family:</code> 一般后面跟多个字体，如果设备上没有前面的字体，则匹配之后的字体。</p>
<p>使用<strong>Web Fonts</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;Megrim&quot;</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">https://fonts.gstatic.com/s/megrim/v11/46kulbz5wjvLqJZVam_hVUdI1w.woff2</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Megrim, Cursive</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="font-size-字体大小"><a href="#font-size-字体大小" class="headerlink" title="font-size 字体大小"></a>font-size 字体大小</h3><ul>
<li>关键字：small、medium、large</li>
<li>长度：px、em</li>
<li>百分数：相当于父元素字体大小</li>
</ul>
<h3 id="font-style-字体效果"><a href="#font-style-字体效果" class="headerlink" title="font-style 字体效果"></a>font-style 字体效果</h3><p><code>font-style</code> 默认值是normal，斜体是italic</p>
<h3 id="font-weight-字重-x2F-粗细"><a href="#font-weight-字重-x2F-粗细" class="headerlink" title="font-weight 字重&#x2F;粗细"></a>font-weight 字重&#x2F;粗细</h3><p>用100、200 …… 900表示，400等同normal，700等同bold，不同字体支持的字重不同</p>
<h3 id="line-height-行高"><a href="#line-height-行高" class="headerlink" title="line-height 行高"></a>line-height 行高</h3><p>两行文字的base_line之间的距离</p>
<h3 id="white-space-空白符处理"><a href="#white-space-空白符处理" class="headerlink" title="white-space 空白符处理"></a>white-space 空白符处理</h3><ul>
<li><p><code>normal</code> 默认情况下，多个连续的空格或换行会被合并成一个</p>
</li>
<li><p><code>nowrap</code> 不换行</p>
</li>
<li><p><code>pre</code> 保留所有空格和换行</p>
</li>
<li><p><code>pre-wrap</code> 保留空格，一行内自动换行</p>
</li>
<li><p><code>pre-line</code> 合并空格，保留换行</p>
</li>
</ul>
<h2 id="调试CSS"><a href="#调试CSS" class="headerlink" title="调试CSS"></a>调试CSS</h2><ul>
<li>右键点击页面，选择<strong>检查</strong></li>
<li>使用 快捷键<ul>
<li>Ctrl + Shift + I (Windows)</li>
<li>Cmd + Opt + I (Mac)</li>
</ul>
</li>
</ul>
<h1 id="深入CSS"><a href="#深入CSS" class="headerlink" title="深入CSS"></a>深入CSS</h1><h2 id="选择器优先级-x2F-特异性"><a href="#选择器优先级-x2F-特异性" class="headerlink" title="选择器优先级&#x2F;特异性"></a>选择器优先级&#x2F;特异性</h2><p>important &gt; 内联 &gt; id &gt; (伪)类 &gt; 标签 &gt; 通配符</p>
<h2 id="继承与初始值"><a href="#继承与初始值" class="headerlink" title="继承与初始值"></a>继承与初始值</h2><p>某些属性会自动继承其父元素的计算值，除非显式指定一个值。</p>
<p>一般与文字相关的属性可继承，如color，而与盒模型相关的属性不被继承，如width</p>
<p>可通过设置inherit属性值来显式继承</p>
<h2 id="初始值"><a href="#初始值" class="headerlink" title="初始值"></a>初始值</h2><p>CSS中，每个属性都有一个初始值</p>
<ul>
<li>background-color 的初始值为 transparent</li>
</ul>
<p>可以使用initial关键字显式重置为初始值</p>
<ul>
<li>background-color: initial;</li>
</ul>
<h2 id="求值过程"><a href="#求值过程" class="headerlink" title="求值过程"></a>求值过程</h2><ol>
<li><p>获取DOM树与样式规则</p>
</li>
<li><p>filtering</p>
<p>对应用到该页面的规则用以下条件进行筛选：选择器匹配、属性有效、符合当前media等</p>
<p>得到<strong>声明值</strong>，Declared Values，一个元素的某属性可能有0到多个声明值。比如<code>p &#123;font-size:16px&#125;</code>和<code>p.text &#123;font-size:1.2em&#125;</code></p>
</li>
<li><p>cascading</p>
<p>按照来源、!important、选择器特异性、书写顺序等选出优先级最高的一个属性值</p>
<p>得到<strong>层叠值</strong>，Cascaded Value，在层叠过程中，优先级最高的值，比如1.2em</p>
</li>
<li><p>defaulting</p>
<p>当层叠值为空的时候，使用继承或初始值</p>
<p>得到<strong>指定值</strong>，Specified Value，经过cascading和defaulting之后，保证指定值一定不为空</p>
</li>
<li><p>resolving</p>
<p>将一些相对值或者关键字转化成绝对值，比如em转为px，相对路径转为绝对路径</p>
<p>得到<strong>计算值</strong>，Computed Value，一般来说是，浏览器在不进行实际布局的情况下，所能得到的最具体的值。比如60%</p>
</li>
<li><p>formatting</p>
<p>将计算值进一步转化，比如关键字、百分比等都转为绝对值</p>
<p>得到<strong>使用值</strong>，Used Value，进行实际布局时使用的值，不会再有相对值或关键字。比如400.2px</p>
</li>
<li><p>constraining</p>
<p>将小数像素值转为整数</p>
<p>得到<strong>实际值</strong>，渲染时实际生效的值，比如400px</p>
</li>
</ol>
<h1 id="布局Layout"><a href="#布局Layout" class="headerlink" title="布局Layout"></a>布局Layout</h1><h2 id="布局简介"><a href="#布局简介" class="headerlink" title="布局简介"></a>布局简介</h2><p>确定内容的大小和位置的算法</p>
<p>依据元素、容器、兄弟节点和内容等信息来计算</p>
<h2 id="布局相关技术"><a href="#布局相关技术" class="headerlink" title="布局相关技术"></a>布局相关技术</h2><ul>
<li><p>常规流（行级、块级、表格布局、FlexBox、Grid布局）</p>
</li>
<li><p>浮动</p>
</li>
<li><p>绝对定位</p>
</li>
</ul>
<h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><p>一个盒子尺寸包括margin、border、padding、content</p>
<h4 id="box-sizing-content-box"><a href="#box-sizing-content-box" class="headerlink" title="box-sizing: content box"></a>box-sizing: content box</h4><p>width</p>
<ul>
<li><p>指定content box宽度</p>
</li>
<li><p>百分数相对于容器的content box宽度</p>
</li>
</ul>
<p>height</p>
<ul>
<li><p>指定content box高度</p>
</li>
<li><p>百分数相对于容器的content box高度，<strong>容器有指定的高度时，百分数才生效</strong></p>
</li>
</ul>
<p>padding</p>
<ul>
<li>内边距，百分数相对于容器的<strong>宽度</strong></li>
</ul>
<p>border</p>
<ul>
<li>边框，可利用边框制作三角形等图形</li>
</ul>
<p>margin</p>
<ul>
<li>外边距，百分数相对于容器的<strong>宽度</strong></li>
<li>margin在垂直方向上存在<strong>margin collapse</strong>，<strong>边距重叠</strong>，会取两个外边距的最大值</li>
</ul>
<h4 id="box-sizing-border-box"><a href="#box-sizing-border-box" class="headerlink" title="box-sizing: border-box"></a>box-sizing: border-box</h4><ul>
<li>width、height包含border、padding、content</li>
</ul>
<h3 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h3><p>对于超出盒子大小的内容，可通过overflow的属性值来指定其显示情况</p>
<ul>
<li>vidible 可见</li>
<li>hidden 隐藏</li>
<li>scroll 滚动条</li>
</ul>
<h2 id="常规流布局-Normal-Flow"><a href="#常规流布局-Normal-Flow" class="headerlink" title="常规流布局 Normal Flow"></a>常规流布局 Normal Flow</h2><ul>
<li>根元素、浮动和绝对定位的元素会脱离常规流</li>
<li>其他元素都在常规流之内（in-flow）</li>
<li>常规流中的盒子，在某种<strong>排版上下文</strong>中参与布局</li>
</ul>
<h3 id="行级元素"><a href="#行级元素" class="headerlink" title="行级元素"></a>行级元素</h3><p>span、em、strong、cite、code等</p>
<h3 id="块级元素"><a href="#块级元素" class="headerlink" title="块级元素"></a>块级元素</h3><p>body、article、div、main、section、h1-6、p、ul、li等</p>
<h3 id="行级排版上下文"><a href="#行级排版上下文" class="headerlink" title="行级排版上下文"></a>行级排版上下文</h3><ul>
<li>Inline Formatting Context (IFC)</li>
<li><strong>只包含行级盒子</strong>的容器会创建一个IFC</li>
<li>IFC内的排版规则<ul>
<li>盒子在一行内水平摆放</li>
<li>一行放不下时，换行显示</li>
<li>text-align决定一行内盒子的水平对齐</li>
<li>vertical-align决定一个盒子在行内的垂直对齐</li>
<li>避开浮动(float)元素</li>
</ul>
</li>
</ul>
<h3 id="块级排版上下文"><a href="#块级排版上下文" class="headerlink" title="块级排版上下文"></a>块级排版上下文</h3><ul>
<li>Block Formatting Context (BFC)</li>
<li>某些容器会创建一个BFC<ul>
<li>根元素</li>
<li>浮动、绝对定位、inline-block</li>
<li>Flex子项和Grid子项</li>
<li>overflow值不是visible的块盒</li>
<li>display: flow-root;</li>
</ul>
</li>
<li>BFC内的排版规则<ul>
<li>盒子从上到下摆放</li>
<li>垂直margin合并</li>
<li>BFC内盒子的margin不会与外面的合并</li>
<li>BFC不会和浮动元素重叠</li>
</ul>
</li>
</ul>
<h3 id="Flex-Box-排版上下文"><a href="#Flex-Box-排版上下文" class="headerlink" title="Flex Box 排版上下文"></a>Flex Box 排版上下文</h3><ul>
<li>它可以控制子级盒子的<ul>
<li>摆放的流向</li>
<li>摆放顺序</li>
<li>盒子宽度和高度</li>
<li>水平和垂直方向的对齐</li>
<li>是否允许折行</li>
</ul>
</li>
</ul>
<p>参考文档：<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a></p>
<p>Webkit 内核的浏览器，必须加上-webkit前缀。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Safari */</span></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>容器的属性</strong></p>
<ul>
<li>flex-direction<ul>
<li>决定主轴的方向（即项目的排列方向）</li>
<li><code>row</code>（默认值）：主轴为水平方向，起点在左端</li>
<li><code>row-reverse</code>：主轴为水平方向，起点在右端</li>
<li><code>column</code>：主轴为垂直方向，起点在上沿</li>
<li><code>column-reverse</code>：主轴为垂直方向，起点在下沿</li>
</ul>
</li>
<li>flex-wrap<ul>
<li>属性定义，如果一条轴线排不下，如何换行</li>
<li><code>nowrap</code>（默认）：不换行</li>
<li><code>wrap</code>：换行，第一行在上方</li>
<li><code>wrap-reverse</code>：换行，第一行在下方</li>
</ul>
</li>
<li>flex-flow<ul>
<li>flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap</li>
</ul>
</li>
<li>justify-content<ul>
<li>项目在主轴上的对齐方式</li>
<li><code>flex-start</code>（默认值）：左对齐</li>
<li><code>flex-end</code>：右对齐</li>
<li><code>center</code>： 居中</li>
<li><code>space-between</code>：两端对齐，项目之间的间隔都相等</li>
<li><code>space-around</code>：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍</li>
</ul>
</li>
<li>align-items<ul>
<li>项目在交叉轴上如何对齐</li>
<li><code>flex-start</code>：交叉轴的起点对齐</li>
<li><code>flex-end</code>：交叉轴的终点对齐</li>
<li><code>center</code>：交叉轴的中点对齐</li>
<li><code>baseline</code>: 项目的第一行文字的基线对齐</li>
<li><code>stretch</code>（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度</li>
</ul>
</li>
<li>align-content<ul>
<li>定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用</li>
<li><code>flex-start</code>：与交叉轴的起点对齐</li>
<li><code>flex-end</code>：与交叉轴的终点对齐</li>
<li><code>center</code>：与交叉轴的中点对齐</li>
<li><code>space-between</code>：与交叉轴两端对齐，轴线之间的间隔平均分布</li>
<li><code>space-around</code>：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍</li>
<li><code>stretch</code>（默认值）：轴线占满整个交叉轴</li>
</ul>
</li>
</ul>
<p><strong>子项目的属性</strong></p>
<ul>
<li><code>order</code><ul>
<li>项目的排列顺序。数值越小，排列越靠前，默认为0</li>
</ul>
</li>
<li><code>flex-grow</code><ul>
<li>项目的放大比例，默认为<code>0</code>，即如果存在剩余空间，也不放大</li>
</ul>
</li>
<li><code>flex-shrink</code><ul>
<li>项目的缩小比例，默认为1，即如果空间不足，该项目将缩小</li>
<li>如果所有项目的<code>flex-shrink</code>属性都为1，当空间不足时，都将等比例缩小。如果一个项目的<code>flex-shrink</code>属性为0，其他项目都为1，则空间不足时，前者不缩小</li>
</ul>
</li>
<li><code>flex-basis</code><ul>
<li>定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为<code>auto</code>，即项目的本来大小</li>
<li>可以设为跟<code>width</code>或<code>height</code>属性一样的值（比如350px），则项目将占据固定空间</li>
</ul>
</li>
<li><code>flex</code><ul>
<li><code>flex-grow</code>, <code>flex-shrink</code> 和 <code>flex-basis</code>的简写，默认值为<code>0 1 auto</code>。后两个属性可选</li>
</ul>
</li>
<li><code>align-self</code><ul>
<li>允许单个项目有与其他项目不一样的对齐方式，可覆盖<code>align-items</code>属性</li>
</ul>
</li>
</ul>
<h3 id="Grid-布局"><a href="#Grid-布局" class="headerlink" title="Grid 布局"></a>Grid 布局</h3><p>二维布局</p>
<h2 id="浮动-float"><a href="#浮动-float" class="headerlink" title="浮动 float"></a>浮动 float</h2><p>通过浮动图片，可以实现文字环绕图片的效果</p>
<p>对于左右布局之类可以用flex布局等来实现，避免清除浮动等问题</p>
<h2 id="绝对定位"><a href="#绝对定位" class="headerlink" title="绝对定位"></a>绝对定位</h2><p>position属性</p>
<table>
<thead>
<tr>
<th>值</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>static</td>
<td>默认值，非定位元素</td>
</tr>
<tr>
<td>relative</td>
<td>相对自身原本位置偏移，不脱离文档流</td>
</tr>
<tr>
<td>absolute</td>
<td>绝对定位，相对于最近的非static祖先元素定位，脱离常规流</td>
</tr>
<tr>
<td>fixed</td>
<td>相对于视口绝对定位</td>
</tr>
<tr>
<td>sticky</td>
<td>粘性定位</td>
</tr>
</tbody></table>
<h1 id="常见样式"><a href="#常见样式" class="headerlink" title="常见样式"></a>常见样式</h1><h2 id="水平和垂直居中"><a href="#水平和垂直居中" class="headerlink" title="水平和垂直居中"></a>水平和垂直居中</h2><p>HTML代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>绝对定位+margin反向偏移</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>绝对定位+transform反向偏移（常用）</p>
<p>优点：不需要知道子元素的width和height</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>子元素绝对定位，所有定位为0，margin设置auto自适应</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>父元素flex布局（弹性布局）</p>
<p>缺点：某些低版本浏览器不支持</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>display: table</p>
<p>缺点是html部分增加了一层table-cell层来实现垂直居中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>css部分</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="CSS优化"><a href="#CSS优化" class="headerlink" title="CSS优化"></a>CSS优化</h1><h2 id="CSS选择器匹配规则"><a href="#CSS选择器匹配规则" class="headerlink" title="CSS选择器匹配规则"></a>CSS选择器匹配规则</h2><blockquote>
<p>The style system matches a rule by starting with the rightmost selector and moving to the left through the ruleâ€™s selectors. As long as your little subtree continues to check out, the style system will continue moving to the left until it either matches the rule or bails out because of a mismatch.</p>
</blockquote>
<p>CSS样式通过从最右边的选择器开始并通过规则的选择器向左移动来匹配规则。样式系统从最右边的选择器开始持续向左移动，直到它匹配规则或因为不匹配而退出。</p>
<blockquote>
<p>For example, <code>DIV DIV DIV P A.class0007 &#123;&#125;</code>. This selector has five levels of descendent matching that must be performed. This sounds complex. But when we look at the rightmost selector, <code>A.class0007</code>, we realize that there’s only one element in the entire page that the browser has to match against.</p>
</blockquote>
<p>例如，<code>DIV DIV DIV P A.class0007 &#123;&#125;</code>. 该选择器有五个必须执行的后代匹配级别。这听起来很复杂。但是当我们查看最右边的选择器时<code>A.class0007</code>，我们意识到整个页面中只有一个元素需要浏览器匹配。</p>
<blockquote>
<p>The key to optimizing CSS selectors is to focus on the rightmost selector, also called the <em>key selector</em> (coincidence?). Here’s a much more expensive selector: <code>A.class0007 * &#123;&#125;</code>. Although this selector might look simpler, it’s more expensive for the browser to match. Because the browser moves right to left, it starts by checking all the elements that match the key selector, “<code>*</code>“. This means the browser must try to match this selector against all elements in the page.</p>
</blockquote>
<p>优化 CSS 选择器的关键是关注最右边的选择器，也称为<em>关键选择器</em>（巧合？）。这是一个更昂贵的选择器：<code>A.class0007 * &#123;&#125;</code>. 虽然这个选择器可能看起来更简单，但浏览器匹配它的代价更高。因为浏览器从右向左移动，所以它首先检查与键选择器“ <code>*</code>”匹配的所有元素。这意味着浏览器必须尝试将此选择器与页面中的所有元素相匹配。</p>
<blockquote>
<p>The key is focusing on CSS selectors with a wide-matching key selector. </p>
</blockquote>
<p>重点需要关注最右边的关键选择器（key selector）。</p>
<p>参考文章：<a target="_blank" rel="noopener" href="https://www.stevesouders.com/blog/2009/06/18/simplifying-css-selectors/">https://www.stevesouders.com/blog/2009/06/18/simplifying-css-selectors/</a></p>
<h2 id="ID选择器的弊端"><a href="#ID选择器的弊端" class="headerlink" title="ID选择器的弊端"></a>ID选择器的弊端</h2><ol>
<li><p>在一个网页中，不允许存在两个相同的id，一段基于ID选择器的CSS代码只能对一个元素起作用，使得该元素无法重用。</p>
</li>
<li><p>根据CSS选择器的权重值计算规则，ID选择器的优先级高于CLASS选择器（ID选择器权重值为100，CLASS选择器为10），这会导致一种情况：无法直接用CLASS选择器对前面ID选择器中的样式进行覆盖。为了覆盖ID选择器中的样式，需要给CLASS选择器增加类似<code>!important</code>等字段以提高优先级，这不利于维护。</p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/archives/page/2/">2</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/archives/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ACorCC</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://npm.elemecdn.com/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://npm.elemecdn.com/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  




  





</body>
</html>
